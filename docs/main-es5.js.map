{"version":3,"sources":["webpack:///$_lazy_route_resource lazy namespace object","webpack:///src/app/app.component.ts","webpack:///src/app/app.component.html","webpack:///src/app/app.module.ts","webpack:///src/app/chart/chart.component.ts","webpack:///src/app/chart/chart.component.html","webpack:///src/environments/environment.ts","webpack:///src/main.ts"],"names":["webpackEmptyAsyncContext","req","Promise","resolve","then","e","Error","code","keys","module","exports","id","AppComponent","title","selector","templateUrl","styleUrls","AppModule","declarations","imports","providers","bootstrap","ChartComponent","zone","yAxisList","runOutsideAngular","root","setThemes","chart","container","children","push","panY","layout","verticalLayout","xAxis","xAxes","renderer","baseInterval","timeUnit","count","legend","dispose","ev","inputElement","target","files","length","readFile","file","series","clear","yAxes","fileReader","FileReader","readAsText","onload","textResult","result","jsonData","JSON","parse","console","log","Messstellen","mst","yAxis","getYAxis","Config","Unit","name","Name","valueYField","valueXField","strokes","template","setAll","strokeWidth","data","processor","dateFields","dateFormat","Values","values","set","behavior","unit","definedYAxis","find","axis","oppositeYAxis","opposite","label","rotation","text","y","centerX","unshift","handleFile","environment","production","bootstrapModule","err","error"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAAA,aAASA,wBAAT,CAAkCC,GAAlC,EAAuC;AACtC;AACA;AACA,aAAOC,OAAO,CAACC,OAAR,GAAkBC,IAAlB,CAAuB,YAAW;AACxC,YAAIC,CAAC,GAAG,IAAIC,KAAJ,CAAU,yBAAyBL,GAAzB,GAA+B,GAAzC,CAAR;AACAI,SAAC,CAACE,IAAF,GAAS,kBAAT;AACA,cAAMF,CAAN;AACA,OAJM,CAAP;AAKA;;AACDL,4BAAwB,CAACQ,IAAzB,GAAgC,YAAW;AAAE,aAAO,EAAP;AAAY,KAAzD;;AACAR,4BAAwB,CAACG,OAAzB,GAAmCH,wBAAnC;AACAS,UAAM,CAACC,OAAP,GAAiBV,wBAAjB;AACAA,4BAAwB,CAACW,EAAzB,GAA8B,yCAA9B;;;;;;;;;;;;;;;;ACZA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;QAOaC,Y,6BALb;AAAA;;AAME,WAAAC,KAAA,GAAQ,gBAAR;AACD,K;;;uBAFYD,Y;AAAY,K;;;YAAZA,Y;AAAY,+B;AAAA,c;AAAA,a;AAAA;AAAA;ACPzB;;;;;;;;;sEDOaA,Y,EAAY;cALxB,uDAKwB;eALd;AACTE,kBAAQ,EAAE,UADD;AAETC,qBAAW,EAAE,sBAFJ;AAGTC,mBAAS,EAAE,CAAC,qBAAD;AAHF,S;AAKc,Q;;;;;;;;;;;;;;;;;;AEPzB;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;QAiBaC,S;;;;;YAAAA,S;AAAS,kBAFR,2DAEQ;;;;yBAATA,S;AAAS,O;AAAA,iBAHT,E;AAAE,gBAHJ,CACP,uEADO,CAGI;;;;0HAGFA,S,EAAS;AAAA,uBATlB,2DASkB,EARlB,qEAQkB;AARJ,kBAGd,uEAHc;AAQI,O;AALL,K;;;;;sEAKJA,S,EAAS;cAXrB,sDAWqB;eAXZ;AACRC,sBAAY,EAAE,CACZ,2DADY,EAEZ,qEAFY,CADN;AAKRC,iBAAO,EAAE,CACP,uEADO,CALD;AAQRC,mBAAS,EAAE,EARH;AASRC,mBAAS,EAAE,CAAC,2DAAD;AATH,S;AAWY,Q;;;;;;;;;;;;;;;;;;ACjBtB;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA,yD,CAEA;;;QAUaC,c;AAQX,8BAAoBC,IAApB,EAAkC;AAAA;;AAAd,aAAAA,IAAA,GAAAA,IAAA;AAJpB,aAAAC,SAAA,GAAmB,EAAnB;AAIqC;;;;eAErC,2BAAkB;AAAA;;AAChB;AACA,eAAKD,IAAL,CAAUE,iBAAV,CAA4B,YAAM;AAChC,gBAAMC,IAAI,GAAG,gEAAa,UAAb,CAAb;;AAEAA,gBAAI,CAACC,SAAL,CAAe,CAAC,+EAAmBD,IAAnB,CAAD,CAAf;AAEA,gBAAME,KAAK,GAAGF,IAAI,CAACG,SAAL,CAAeC,QAAf,CAAwBC,IAAxB,CACZ,sEAAkBL,IAAlB,EAAwB;AACtBM,kBAAI,EAAE,KADgB;AAEtBC,oBAAM,EAAEP,IAAI,CAACQ;AAFS,aAAxB,CADY,CAAd,CALgC,CAYhC;;AACA,gBAAMC,KAAK,GAAGP,KAAK,CAACQ,KAAN,CAAYL,IAAZ,CACZ,uEAAmBL,IAAnB,EAAyB;AACvBW,sBAAQ,EAAE,4EAAwBX,IAAxB,EAA8B,EAA9B,CADa;AAEvBY,0BAAY,EAAE;AAAEC,wBAAQ,EAAE,QAAZ;AAAsBC,qBAAK,EAAE;AAA7B;AAFS,aAAzB,CADY,CAAd,CAbgC,CAoBhC;;AACA,iBAAI,CAACC,MAAL,GAAcb,KAAK,CAACE,QAAN,CAAeC,IAAf,CAAoB,kEAAeL,IAAf,EAAqB,EAArB,CAApB,CAAd;AAEA,iBAAI,CAACA,IAAL,GAAYA,IAAZ;AACA,iBAAI,CAACE,KAAL,GAAaA,KAAb;AACA,iBAAI,CAACO,KAAL,GAAaA,KAAb;AACD,WA1BD;AA2BD;;;eAED,uBAAc;AAAA;;AACZ;AACA,eAAKZ,IAAL,CAAUE,iBAAV,CAA4B,YAAM;AAChC,gBAAI,MAAI,CAACC,IAAT,EAAe;AACb,oBAAI,CAACA,IAAL,CAAUgB,OAAV;AACD;AACF,WAJD;AAKD;;;eAED,oBAAWC,EAAX,EAAe;AACb,cAAMC,YAAY,GAAGD,EAAE,CAACE,MAAxB;;AACA,cAAID,YAAJ,EAAkB;AAChB,gBAAIA,YAAY,CAACE,KAAb,IAAsBF,YAAY,CAACE,KAAb,CAAmBC,MAAnB,GAA4B,CAAtD,EAAyD;AACvD,mBAAKC,QAAL,CAAcJ,YAAY,CAACE,KAAb,CAAmB,CAAnB,CAAd;AACD;AACF;AACF;;;eAED,kBAASG,IAAT,EAAqB;AAAA;;AACnB;AACA,eAAKzB,SAAL,GAAiB,EAAjB;;AACA,cAAI,KAAKI,KAAL,CAAWsB,MAAf,EAAuB;AACrB,iBAAKtB,KAAL,CAAWsB,MAAX,CAAkBC,KAAlB;AACD;;AACD,cAAI,KAAKvB,KAAL,CAAWwB,KAAf,EAAsB;AACpB,iBAAKxB,KAAL,CAAWwB,KAAX,CAAiBD,KAAjB;AACD;;AAED,cAAME,UAAU,GAAG,IAAIC,UAAJ,EAAnB;AACAD,oBAAU,CAACE,UAAX,CAAsBN,IAAtB;;AACAI,oBAAU,CAACG,MAAX,GAAoB,YAAM;AACxB,gBAAMC,UAAU,GAAGJ,UAAU,CAACK,MAA9B;AACA,gBAAMC,QAAQ,GAAGC,IAAI,CAACC,KAAL,CAAWJ,UAAX,CAAjB;AACAK,mBAAO,CAACC,GAAR,CAAYJ,QAAZ;;AAHwB,uDAKNA,QAAQ,CAACK,WALH;AAAA;;AAAA;AAKxB,kEAAwC;AAAA,oBAA7BC,GAA6B;;AACtC;AACA,oBAAMC,KAAK,GAAG,MAAI,CAACC,QAAL,CAAcF,GAAG,CAACG,MAAJ,CAAWC,IAAzB,CAAd,CAFsC,CAItC;;;AACA,oBAAMnB,MAAM,GAAG,MAAI,CAACtB,KAAL,CAAWsB,MAAX,CAAkBnB,IAAlB,CACb,yEAAqB,MAAI,CAACL,IAA1B,EAAgC;AAC9B4C,sBAAI,EAAEL,GAAG,CAACG,MAAJ,CAAWG,IADa;AAE9BpC,uBAAK,EAAE,MAAI,CAACA,KAFkB;AAG9B+B,uBAAK,EAAEA,KAHuB;AAI9BM,6BAAW,EAAE,OAJiB;AAK9BC,6BAAW,EAAE;AALiB,iBAAhC,CADa,CAAf;;AASAvB,sBAAM,CAACwB,OAAP,CAAeC,QAAf,CAAwBC,MAAxB,CAA+B;AAC7BC,6BAAW,EAAE;AADgB,iBAA/B;AAIA3B,sBAAM,CAAC4B,IAAP,CAAYC,SAAZ,GAAwB,yEAAsB,MAAI,CAACrD,IAA3B,EAAiC;AACvDsD,4BAAU,EAAE,CAAC,MAAD,CAD2C;AAEvDC,4BAAU,EAAE;AAF2C,iBAAjC,CAAxB;AAKA/B,sBAAM,CAAC4B,IAAP,CAAYF,MAAZ,CAAmBX,GAAG,CAACiB,MAAvB;AACD,eA7BuB,CA+BxB;;AA/BwB;AAAA;AAAA;AAAA;AAAA;;AAgCxB,kBAAI,CAACzC,MAAL,CAAYqC,IAAZ,CAAiBF,MAAjB,CAAwB,MAAI,CAAChD,KAAL,CAAWsB,MAAX,CAAkBiC,MAA1C,EAhCwB,CAkCxB;;;AACA,kBAAI,CAACvD,KAAL,CAAWwD,GAAX,CAAe,QAAf,EAAyB,uEAAmB,MAAI,CAAC1D,IAAxB,EAA8B;AAAE2D,sBAAQ,EAAE,QAAZ;AAAsBlD,mBAAK,EAAE,MAAI,CAACA;AAAlC,aAA9B,CAAzB;AACD,WApCD;AAqCD;;;eAGO,kBAASmD,IAAT,EAAuB;AAE7B,cAAMC,YAAY,GAAG,KAAK/D,SAAL,CAAegE,IAAf,CAAoB,UAAAC,IAAI;AAAA,mBAAIA,IAAI,CAACH,IAAL,KAAcA,IAAlB;AAAA,WAAxB,CAArB;;AACA,cAAIC,YAAJ,EAAkB;AAChB,mBAAOA,YAAY,CAACrB,KAApB;AACD;;AAED,cAAMwB,aAAa,GAAGJ,IAAI,KAAK,IAA/B;AACA,cAAMpB,KAAK,GAAG,KAAKtC,KAAL,CAAWwB,KAAX,CAAiBrB,IAAjB,CACZ,wEAAoB,KAAKL,IAAzB,EAA+B;AAC7BW,oBAAQ,EAAE,4EAAwB,KAAKX,IAA7B,EAAmC;AAAEiE,sBAAQ,EAAED;AAAZ,aAAnC;AADmB,WAA/B,CADY,CAAd;AAMAxB,eAAK,CAACkB,GAAN,CAAU,SAAV,EAAqB,mEAAgB,KAAK1D,IAArB,EAA2B,EAA3B,CAArB;;AAEA,cAAMkE,KAAK,GAAG,iEAAc,KAAKlE,IAAnB,EAAyB;AACrCmE,oBAAQ,EAAEH,aAAa,GAAG,EAAH,GAAQ,CAAC,EADK;AAErCI,gBAAI,EAAER,IAF+B;AAGrCS,aAAC,EAAE,uDAHkC;AAIrCC,mBAAO,EAAE,uDAJ4B,CAKrC;AACA;;AANqC,WAAzB,CAAd;;AASA9B,eAAK,CAACpC,QAAN,CAAemE,OAAf,CACEL,KADF;AAIA,eAAKpE,SAAL,CAAeO,IAAf,CAAoB;AAAEmC,iBAAK,EAALA,KAAF;AAASoB,gBAAI,EAAJA;AAAT,WAApB;AAEA,iBAAOpB,KAAP;AACD;;;;;;;uBA/IU5C,c,EAAc,qH;AAAA,K;;;YAAdA,c;AAAc,gC;AAAA,c;AAAA,a;AAAA,kM;AAAA;AAAA;ACZ3B;;AAEA;;AACE;;AAAuE;AAAA,mBAAU,IAAA4E,UAAA,QAAV;AAA4B,WAA5B;;AAAvE;;AACF;;AACA;;AACE;;AACF;;;;;;;;sEDKa5E,c,EAAc;cAL1B,uDAK0B;eALhB;AACTR,kBAAQ,EAAE,WADD;AAETC,qBAAW,EAAE,wBAFJ;AAGTC,mBAAS,EAAE,CAAC,uBAAD;AAHF,S;AAKgB,Q;;;;;;;;;;;;;;;;;;;;;;AEZ3B;AAAA;;;AAAA;AAAA;AAAA,O,CAAA;AACA;AACA;;;AAEO,QAAMmF,WAAW,GAAG;AACzBC,gBAAU,EAAE;AADa,KAApB;AAIP;;;;;;;AAOA;;;;;;;;;;;;;;;;;ACfA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;AAMA,QAAI,sEAAYA,UAAhB,EAA4B;AAC1B;AACD;;AAED,gFAAyBC,eAAzB,CAAyC,yDAAzC,WACS,UAAAC,GAAG;AAAA,aAAIxC,OAAO,CAACyC,KAAR,CAAcD,GAAd,CAAJ;AAAA,KADZ","file":"main-es5.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./$$_lazy_route_resource lazy recursive\";","import { Component } from '@angular/core';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent {\n  title = 'amcharts5-test';\n}\n","<app-chart></app-chart>\n","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\n\nimport { AppComponent } from './app.component';\nimport { ChartComponent } from './chart/chart.component';\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    ChartComponent\n  ],\n  imports: [\n    BrowserModule\n  ],\n  providers: [],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n","import { AfterViewInit, Component, NgZone, OnDestroy } from '@angular/core';\n\n// amCharts imports\nimport * as am5 from '@amcharts/amcharts5';\nimport * as am5xy from '@amcharts/amcharts5/xy';\nimport am5themes_Dark from '@amcharts/amcharts5/themes/Dark';\n\n@Component({\n  selector: 'app-chart',\n  templateUrl: './chart.component.html',\n  styleUrls: ['./chart.component.css']\n})\nexport class ChartComponent implements OnDestroy, AfterViewInit {\n  private root: am5.Root;\n  chart: am5xy.XYChart;\n  xAxis: am5xy.DateAxis<am5xy.AxisRenderer>;\n  yAxisList: any[] = [];\n  legend: any;\n  loading: boolean;\n\n  constructor(private zone: NgZone) { }\n\n  ngAfterViewInit() {\n    // Chart code goes in here\n    this.zone.runOutsideAngular(() => {\n      const root = am5.Root.new('chartdiv');\n\n      root.setThemes([am5themes_Dark.new(root)]);\n\n      const chart = root.container.children.push(\n        am5xy.XYChart.new(root, {\n          panY: false,\n          layout: root.verticalLayout\n        })\n      );\n\n      // Create X-Axis\n      const xAxis = chart.xAxes.push(\n        am5xy.DateAxis.new(root, {\n          renderer: am5xy.AxisRendererX.new(root, {}),\n          baseInterval: { timeUnit: 'second', count: 1 }\n        })\n      );\n\n      // add legend\n      this.legend = chart.children.push(am5.Legend.new(root, {}));\n\n      this.root = root;\n      this.chart = chart;\n      this.xAxis = xAxis;\n    });\n  }\n\n  ngOnDestroy() {\n    // Clean up chart when the component is removed\n    this.zone.runOutsideAngular(() => {\n      if (this.root) {\n        this.root.dispose();\n      }\n    });\n  }\n\n  handleFile(ev) {\n    const inputElement = ev.target as HTMLInputElement;\n    if (inputElement) {\n      if (inputElement.files && inputElement.files.length > 0) {\n        this.readFile(inputElement.files[0]);\n      }\n    }\n  }\n\n  readFile(file: File) {\n    // reset chart\n    this.yAxisList = [];\n    if (this.chart.series) {\n      this.chart.series.clear();\n    }\n    if (this.chart.yAxes) {\n      this.chart.yAxes.clear();\n    }\n\n    const fileReader = new FileReader();\n    fileReader.readAsText(file);\n    fileReader.onload = () => {\n      const textResult = fileReader.result as string;\n      const jsonData = JSON.parse(textResult);\n      console.log(jsonData);\n\n      for (const mst of jsonData.Messstellen) {\n        // Create Y-axis\n        const yAxis = this.getYAxis(mst.Config.Unit);\n\n        // Create series\n        const series = this.chart.series.push(\n          am5xy.LineSeries.new(this.root, {\n            name: mst.Config.Name,\n            xAxis: this.xAxis,\n            yAxis: yAxis,\n            valueYField: 'Value',\n            valueXField: 'Date'\n          })\n        );\n        series.strokes.template.setAll({\n          strokeWidth: 2\n        });\n\n        series.data.processor = am5.DataProcessor.new(this.root, {\n          dateFields: ['Date'],\n          dateFormat: 'yyyy-MM-ddTHH:mm:ss'\n        });\n\n        series.data.setAll(mst.Values);\n      }\n\n      // Add legend\n      this.legend.data.setAll(this.chart.series.values);\n\n      // Add cursor\n      this.chart.set('cursor', am5xy.XYCursor.new(this.root, { behavior: 'zoomXY', xAxis: this.xAxis }));\n    };\n  }\n\n\n  private getYAxis(unit: string) {\n\n    const definedYAxis = this.yAxisList.find(axis => axis.unit === unit);\n    if (definedYAxis) {\n      return definedYAxis.yAxis;\n    }\n\n    const oppositeYAxis = unit !== '°C';\n    const yAxis = this.chart.yAxes.push(\n      am5xy.ValueAxis.new(this.root, {\n        renderer: am5xy.AxisRendererY.new(this.root, { opposite: oppositeYAxis }),\n      })\n    );\n\n    yAxis.set('tooltip', am5.Tooltip.new(this.root, {}));\n\n    const label = am5.Label.new(this.root, {\n      rotation: oppositeYAxis ? 90 : -90,\n      text: unit,\n      y: am5.p50,\n      centerX: am5.p50\n      //x: am5.p0,\n      //centerY: am5.p0\n    });\n\n    yAxis.children.unshift(\n      label\n    );\n\n    this.yAxisList.push({ yAxis, unit });\n\n    return yAxis;\n  }\n}\n","<div id=\"chartdiv\" style=\"width: 100%; height: 500px\"></div>\n\n<p>\n  <input id=\"inputValue\" type=\"file\" accept=\".json\" style=\"color: white\" (change)=\"handleFile($event)\" onclick=\"this.value=null\">\n</p>\n<p>\n  <progress></progress>\n</p>\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n"]}